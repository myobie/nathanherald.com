<!DOCTYPE html>
<html>
  <head lang="en-us">
    <meta content="HTML Tidy for HTML5 for Apple macOS version 5.8.0" name="generator">
    <meta charset="UTF-8">
    <title>
      I‚Äòm Nathan Herald ‚Üí Document semi-wacky‚Ää‚Äî‚Ääwacky things
    </title>
    <script>
      if ((new URL(window.location.href)).host === 'myobie.com') { window.location.assign('https://nathanherald.com') }
    </script>
    <link href="https://nathanherald.com/posts/legacy/document-semi-wacky-wacky-things/" rel=
    "canonical">
    <link href="https://cloud.typography.com/6836312/761366/css/fonts.css" rel="stylesheet" type=
    "text/css">
    <link href="/styles.css" rel="stylesheet" type="text/css">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="Hugo 0.136.5" name="generator">
    <meta content="I‚Äòm Nathan Herald ‚Üí Document semi-wacky‚Ää‚Äî‚Ääwacky things" name="title">
    <meta content="Sometimes, there are things that need to be documented." name="description">
    <meta content="Document semi-wacky‚Ää‚Äî‚Ääwacky things" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Sometimes, there are things that need to be documented." property=
    "og:description">
    <meta content="https://nathanherald.com/posts/legacy/document-semi-wacky-wacky-things/"
    property="og:url">
    <meta content="/og.png" property="og:image">
    <meta content="I‚Äòm Nathan Herald" property="og:site_name">
    <link href="/rss.xml" rel="alternate" title="Feed of all the posts on nathanherald.com" type=
    "application/rss+xml">
  </head>
  <body>
    <header class="section-header">
      <div class="section-nav">
        <h1 class="home-link">
          <a class="never-underline" data-nospan="" href="/"><abbr title="Hello">üëã</abbr></a>
          <a href="/">I‚Äôm Nathan</a>
        </h1>
        <nav>
          <p>
            Find more in the <a href="/posts/">archive of all the posts on this site</a> or
            <a href="/rss.xml">subscribe with RSS</a>.
          </p>
        </nav>
      </div>
    </header>
    <main class="single">
      <article>
        <header>
          <h1>
            Document semi-wacky‚Ää‚Äî‚Ääwacky things
          </h1>
          <p class="annotation">
            ‚≠êÔ∏è a blog post
          </p>
          <h2>
            Sometimes, there are things that need to be documented.
          </h2>
        </header>
        <div class="content">
          <p>
            <em>This is an exposition of point 4 from</em> <a href=
            "/posts/legacy/be-a-good-programmer/"><em>Be a good programmer</em></a><em>.</em>
          </p>
          <h3 id="so-when-do-you-document-anything">
            So when do you document anything?
          </h3>
          <p>
            <strong>When it‚Äôs wacky or super difficult.</strong>
          </p>
          <p>
            Thing‚Äôs aren‚Äôt always simple. Payment processors, email systems, history tracking, and
            other things can get really complicated fast and sometimes you just need document how
            it works. <a href="http://www.tumblr.com/docs/en/api/v2#auth">Tumblr‚Äôs api</a> uses
            some complicated signing (HMAC-SHA1) for requesting an oauth token and <a href=
            "https://github.com/tumblr/tumblr_client/blob/master/bin/tumblr#L27-L51">it turns
            out</a> it‚Äôs not exactly the simplest thing ever and <a href=
            "https://github.com/myobie/fetcher/blob/master/services/tumblr.rb#L56-L72">even
            wackier</a> if you don‚Äôt want to use any external libraries. That really needs to be
            documented. It‚Äôs wacky.
          </p>
          <p>
            When integrating with payment systems like paypal or authorize.net or braintree you
            just gotta do things a certain way and it would help the next person if you documented
            the order or operations, the libraries used, and the ‚Äúwhy?‚Äù Asynchronous operations are
            also notoriously hard to follow, so it‚Äôs usually a good idea to put some comments in
            about when and where things might happen. Job queues, notifications, or feedback loops
            are all candidates for documenting more than normal.
          </p>
          <h3 id="when-should-you-not-documentthings">
            When should you not document&nbsp;things?
          </h3>
          <p>
            Pretty much the rest of the time.
          </p>
          <p>
            Code <em>should</em> speak for itself. Of course. If a programmer‚Äôs job is done well,
            then anyone can get up to speed on what‚Äôs going on quickly without having to read too
            many docs.
          </p>
          <p>
            Docs that are useless include things like @public or @private or listing out the types
            for the args for untyped languages (foo(String:bar)). Code examples showing the use of
            the methods are usually not a good idea because they get out of sync. <strong>If the
            method is being used in the project, then it‚Äôs example usage is already
            documented.</strong>
          </p>
          <p>
            A method has three chances to document itself:
          </p>
          <ol>
            <li>Using an appropriate name
            </li>
            <li>Not being too long
            </li>
            <li>Being consistently used throughout the application
            </li>
          </ol>
          <h4 id="use-an-appropriate-name">
            Use an appropriate name
          </h4>
          <p>
            If a method sends an email, name it as such. But don‚Äôt hide indirect side effects.
            Recently at work we noticed a method named find_by_identifier that actually will either
            find something, create something, and also possibly send an email. It didn‚Äôt start out
            that way, but as the product evolved it gained new responsibilities.
          </p>
          <p>
            That does not mean the method should have been refactored‚Ää‚Äî‚Äärefactoring is to change
            the method‚Äôs instructions without changing behavior. Instead, it needs to be
            re-specified and re-implemented. It‚Äôs a <strong>new</strong> thing and deserves that
            kind of consideration.
          </p>
          <h4 id="dont-be-longer-than-a-fewlines">
            Don‚Äôt be longer than a few&nbsp;lines
          </h4>
          <p>
            The more things a method does, the harder it is to build a mental model of the product
            or feature one is working on. Having small methods makes refactoring easier and causes
            less test breakage in the long run. Specify, implement, and refactor until each method
            is understandable and small.
          </p>
          <p>
            Don‚Äôt worry, you‚Äôre not writing a timer for the nuclear missiles. Or, if you are, you
            shouldn‚Äôt listen to me. Seriously.
          </p>
          <h4 id="be-consistent">
            Be consistent
          </h4>
          <p>
            If you create a <code>find_by_email</code> method and usually use it like
            <code>find_by_email(params[:email])</code> but then one time you pass in some strange
            object like <code>find_by_email(Email.first)</code> then I am now confused. I thought
            <code>params[:email]</code> was always a String, but now I don‚Äôt know. I gotta go
            digging to learn more to figure out what‚Äôs going on.
          </p>
          <p>
            Do you really need to support both String and Email objects? <strong>Probably
            not.</strong> Do <code>find_by_email(Email.first.address)</code> or
            <code>find_by_email(Email.first.to_s)</code>.
          </p>
          <h3 id="ok-ok-how-do-i-document-thisstuff">
            OK. OK. How do I document this&nbsp;stuff?
          </h3>
          <h4 id="be-succinct">
            Be succinct
          </h4>
          <p>
            When you do need to document, it‚Äôs best to keep the documentation as close to the
            actual code as possible‚Ää‚Äî‚Ääso that means comments. I really like <a href=
            "http://tomdoc.org/">TomDoc</a> for backend application code It‚Äôs quick and simple and
            helps keep everything consistent.
          </p>
          <p>
            For javascript I really love <a href="http://jashkenas.github.io/docco/">docco</a>.
            It‚Äôs beautiful and inline. I‚Äôm considering moving almost all of my docs to this style.
          </p>
          <h4 id="and-libraries">
            And Libraries
          </h4>
          <p>
            Take the extra step to outline regular usage examples, lists of classes and methods,
            and maybe answer some frequently asked questions. Since multiple random people might be
            using the code it needs to be really well explained.
          </p>
          <p>
            <a href="http://www.sinatrarb.com/documentation.html">One of my favorite projects</a>
            has pretty decent documentation. And <a href="http://guides.rubyonrails.org/">Rails‚Äôs
            guides</a> are pretty great, but the <a href="http://api.rubyonrails.org/">regular api
            docs</a> are pretty sad. Sure they list out the methods and everything, but some are
            missing or just have no documentation at all. This is something <em>we</em> can fix.
          </p>
          <p>
            I need to know how to install, configure, and do basic tasks with your tool quickly.
            <strong>Put all of that in the README.</strong>
          </p>
          <h3 id="anything-else">
            Anything else?
          </h3>
          <p>
            <strong>What did I miss?</strong> This is the end of the four part series. What did I
            leave out or what could I do to make it better?
          </p>
        </div>
        <footer>
          <p>
            Posted on <time datetime="2013-12-05T09:42:53Z">5 Dec, 2013</time> onto <a href=
            "https://medium.com/@myobie/document-semi-crazy-wacky-things-d578a34fd6a">Medium</a>
          </p>
        </footer>
      </article>
    </main>
    <script data-domain="nathanherald.com" defer src="https://stats.myobie.wtf/script.js"></script>
    <script async src="/transitions.js"></script>
</body>
</html>
